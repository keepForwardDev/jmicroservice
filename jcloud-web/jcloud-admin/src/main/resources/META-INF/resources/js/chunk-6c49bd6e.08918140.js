(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c49bd6e"],{"0777":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));a("3fab"),a("3f27"),a("8130"),a("a9b6");var n=function(e){return e?[{required:!0,message:e,trigger:"blur"}]:[{required:!0,message:"该项为必填项，请填写完整！",trigger:"blur"}]},i=function(e,t,a){if(""!==t){var n=/^\w+$/;n.test(t)?a():a(new Error("只能填写 字母、数字、下划线组成的字符串！"))}else a()}},3897:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("div",{staticStyle:{"padding-left":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.append()}.apply(null,arguments)}}},[e._v("添加根级字典")]),a("el-input",{staticStyle:{width:"500px","padding-left":"20px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chain-tree-box"},[e.treeVisible?a("el-tree",{ref:"tree",attrs:{load:e.loadNode,lazy:"","filter-node-method":e.filterNode,"node-key":"id","expand-on-click-node":!0,"auto-expand-parent":!1,"highlight-current":!0},on:{"node-click":e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;return a("span",{staticClass:"custom-tree-node"},[a("span",{attrs:{title:n.label}},[e._v(e._s(n.label))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.append(n)}.apply(null,arguments)}}},[e._v("添加")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.editNode(n)}.apply(null,arguments)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.remove(n)}.apply(null,arguments)}}},[e._v("删除")])],1)])}}],null,!1,1781342004)}):e._e()],1),a("el-dialog",{attrs:{title:e.dialogFormTitle,visible:e.dialogFormVisible,width:"700px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"120px",size:"medium",rules:e.formRules}},[a("el-form-item",{attrs:{label:"字典名称",prop:"name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入字典名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"唯一编码"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"用于确定该字典的唯一性",disabled:0!=e.formData.parentId},model:{value:e.formData.nameKey,callback:function(t){e.$set(e.formData,"nameKey",t)},expression:"formData.nameKey"}})],1),a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"number",placeholder:"排序号越大越靠后"},model:{value:e.formData.sortNum,callback:function(t){e.$set(e.formData,"sortNum",t)},expression:"formData.sortNum"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"用于描述该字典的作用"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveForm}},[e._v("保存")])],1)],1)],1)},i=[],r=(a("28fd"),a("a9b6"),a("0777")),o={name:"admin-dictionary",data:function(){return{dialogFormVisible:!1,dialogFormTitle:"新增",formData:{id:"",name:"",nameKey:"",sortNum:0,remark:""},formRules:{name:Object(r["b"])()},loading:!1,treeVisible:!0,filterText:""}},methods:{loadNode:function(e,t){var a=this,n=0;0!==e.level&&(n=e.data.id),this.$get("/dic/getByParentId/simple-dictionary/"+n).then((function(e){1===e.code&&(a.loading=!1,t(e.data))}))},handleCheckChange:function(e,t){},append:function(e){this.formData=e?{id:"",parentId:e.data.id,name:"",nameKey:"",sortNum:0,remark:""}:{id:"",name:"",parentId:0,nameKey:"",sortNum:0,remark:""},this.dialogFormVisible=!0},editNode:function(e){this.formData={id:e.data.id,name:e.data.label,nameKey:e.data.data.nameKey,sortNum:e.data.data.sortNum,remark:e.data.data.remark,parentId:e.data.data.parentId},this.dialogFormVisible=!0},saveForm:function(){var e=this;this.$refs.form.validate((function(t,a){if(t){if(0===e.formData.parentId&&!e.formData.nameKey)return void e.$message({message:"唯一编码必须填写！",type:"warning"});e.$post("/dic/cudOperation",e.formData).then((function(t){1===t.code&&(e.$message.success(t.msg),e.dialogFormVisible=!1,e.refreshTree())}))}else e.$message({message:"请完善相关信息填写！",type:"warning"})}))},remove:function(e){var t=this;this.$confirm("是否确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:e.data.id,deleted:1};t.$post("/dic/cudOperation",a).then((function(e){1===e.code&&(t.$message.success(e.msg),t.refreshTree())}))}))},refreshTree:function(){var e=this;this.loading=!0,this.treeVisible=!1,setTimeout((function(){e.treeVisible=!0}),500)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)}},mounted:function(){},watch:{filterText:function(e){this.$refs.tree.filter(e)}}},l=o,s=(a("754d"),a("cba8")),d=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},5426:function(e,t,a){var n=a("1111").PROPER,i=a("b68d"),r=a("de35"),o="​᠎";e.exports=function(e){return i((function(){return!!r[e]()||o[e]()!==o||n&&r[e].name!==e}))}},"754d":function(e,t,a){"use strict";a("d27f")},8130:function(e,t,a){"use strict";var n=a("a5ba"),i=a("e280").trim,r=a("5426");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},d27f:function(e,t,a){}}]);