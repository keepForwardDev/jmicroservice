(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9124a58c"],{"0777":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));a("3fab"),a("3f27"),a("8130"),a("a9b6");var r=function(e){return e?[{required:!0,message:e,trigger:"blur"}]:[{required:!0,message:"该项为必填项，请填写完整！",trigger:"blur"}]},i=function(e,t,a){if(""!==t){var r=/^\w+$/;r.test(t)?a():a(new Error("只能填写 字母、数字、下划线组成的字符串！"))}else a()}},5426:function(e,t,a){var r=a("1111").PROPER,i=a("b68d"),n=a("de35"),o="​᠎";e.exports=function(e){return i((function(){return!!n[e]()||o[e]()!==o||r&&n[e].name!==e}))}},8130:function(e,t,a){"use strict";var r=a("a5ba"),i=a("e280").trim,n=a("5426");r({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},"9da8e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("el-container",[a("el-aside",{attrs:{width:"400px"}},[a("div",{staticClass:"el-tips",staticStyle:{width:"351px"}},[a("span",{staticClass:"el-tips-icon"},[a("i",{staticClass:"el-icon-info"})]),a("span",[e._v("当前选中的节点："),a("span",{staticStyle:{color:"#4A9FF9"}},[e._v(e._s(e.selectResource))])])]),a("div",{staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),a("div",{staticClass:"tree-aside"},[a("el-scrollbar",{ref:"scrollbar",staticStyle:{height:"calc(100vh - 250px)"}},[a("el-tree",{ref:"groupTree",attrs:{"node-key":"id",data:e.treeList,"filter-node-method":e.filterNode,accordion:"","highlight-current":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{attrs:{title:r.label}},[e._v(e._s(r.label))]),a("span",[a("i",{staticClass:"fa fa-times closeBtn",on:{click:function(t){return e.deleteNode(r)}}})])])}}])})],1)],1)]),a("el-main",[a("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"120px",size:"medium",rules:e.formRules}},[a("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入权限名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"系统唯一编码",prop:"name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"用于确定该权限的唯一性"},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code",t)},expression:"formData.code"}})],1),a("el-form-item",{attrs:{label:"所属上级"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{readonly:"",clearable:""},model:{value:e.parentName,callback:function(t){e.parentName=t},expression:"parentName"}}),a("el-popover",{attrs:{placement:"right",width:"400",height:"400",trigger:"click"}},[a("div",{staticClass:"tree-aside"},[a("el-scrollbar",{staticStyle:{height:"200px"}},[a("el-tree",{ref:"groupTree1",attrs:{"node-key":"id",data:e.treeList,accordion:"","highlight-current":""},on:{"node-click":e.selectNode}})],1)],1),a("el-button",{attrs:{slot:"reference",icon:"el-icon-edit-outline",circle:""},slot:"reference"})],1)],1),a("el-form-item",{attrs:{label:"访问地址"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"用于匹配访问的url，支持正则表达式"},model:{value:e.formData.url,callback:function(t){e.$set(e.formData,"url",t)},expression:"formData.url"}})],1),a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"number",placeholder:"排序号越大越靠后"},model:{value:e.formData.sort,callback:function(t){e.$set(e.formData,"sort",t)},expression:"formData.sort"}})],1),a("el-form-item",{attrs:{label:"权限描述"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"用于描述该权限的作用"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.saveForm}},[e._v("保存")]),a("el-button",{on:{click:e.clearForm}},[e._v("重置")])],1)],1)],1)],1)],1)},i=[],n=(a("28fd"),a("a9b6"),a("0777")),o={name:"admin-department",data:function(){return{filterText:"",selectResource:"",treeList:[],parentName:"",formData:{id:"",name:"",code:"",parentId:0,url:"",description:"",sort:0},formRules:{name:Object(n["b"])(),code:Object(n["b"])()}}},created:function(){this.getTree()},watch:{filterText:function(e){this.$refs.groupTree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){var t=this;this.selectResource=e.label,this.$get("/admin/resource/info/"+e.id).then((function(e){1===e.code&&(t.formData=e.data,t.parentName=e.data.parentName)}))},getTree:function(){var e=this;this.$get("/admin/resource/treeList").then((function(t){1===t.code&&(e.treeList=t.data)}))},deleteNode:function(e){var t=this;this.$confirm("是否确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$get("/admin/resource/delete/"+e.id).then((function(e){1===e.code&&(t.getTree(),t.clearForm(),t.$message.success(e.msg))}))}))},selectNode:function(e){this.formData.id===e.id?this.$message.warning("不支持选择自己！"):this.parentName===e.label?(this.parentName="",this.formData.parentId=""):(this.parentName=e.label,this.formData.parentId=e.id)},saveForm:function(){var e=this;this.$refs.form.validate((function(t,a){t?e.$post("/admin/resource/save",e.formData).then((function(t){1===t.code&&(e.$message.success(t.msg),e.getTree(),e.clearForm())})):e.$message({message:"请完善相关信息填写！",type:"warning"})}))},clearForm:function(){this.parentName="",this.formData={id:"",title:"",name:"",hidden:!1,parentId:0,redirect:"",path:"",component:"",sort:0,meta:{icon:"",cache:!1},remark:""}},getMenuType:function(){var e=this;this.$get("/dic/selectList/menuType").then((function(t){1===t.code&&(e.menuTypeList=t.data)}))}}},s=o,l=(a("bac0"),a("cba8")),c=Object(l["a"])(s,r,i,!1,null,"5d91a31a",null);t["default"]=c.exports},bac0:function(e,t,a){"use strict";a("c039")},c039:function(e,t,a){}}]);