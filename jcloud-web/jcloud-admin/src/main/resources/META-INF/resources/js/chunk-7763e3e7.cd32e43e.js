(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7763e3e7"],{"0777":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));a("3fab"),a("3f27"),a("8130"),a("a9b6");var r=function(e){return e?[{required:!0,message:e,trigger:"blur"}]:[{required:!0,message:"该项为必填项，请填写完整！",trigger:"blur"}]},i=function(e,t,a){if(""!==t){var r=/^\w+$/;r.test(t)?a():a(new Error("只能填写 字母、数字、下划线组成的字符串！"))}else a()}},1737:function(e,t,a){"use strict";a("c8cb")},5426:function(e,t,a){var r=a("1111").PROPER,i=a("b68d"),n=a("de35"),l="​᠎";e.exports=function(e){return i((function(){return!!n[e]()||l[e]()!==l||r&&n[e].name!==e}))}},"5de7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("el-container",[a("el-aside",{attrs:{width:"400px"}},[a("div",{staticClass:"el-tips",staticStyle:{width:"351px"}},[a("span",{staticClass:"el-tips-icon"},[a("i",{staticClass:"el-icon-info"})]),a("span",[e._v("当前选中的节点："),a("span",{staticStyle:{color:"#4A9FF9"}},[e._v(e._s(e.selectMenu))])])]),a("div",{staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),a("div",{staticClass:"tree-aside"},[a("el-scrollbar",{ref:"scrollbar",staticStyle:{height:"calc(100vh - 250px)"}},[a("el-tree",{ref:"groupTree",attrs:{"node-key":"id",data:e.treeList,"filter-node-method":e.filterNode,accordion:"","default-expand-all":"","highlight-current":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{attrs:{title:r.label}},[e._v(e._s(r.label))]),a("span",[a("i",{staticClass:"fa fa-times closeBtn",on:{click:function(t){return e.deleteNode(r)}}})])])}}])})],1)],1)]),a("el-main",[a("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"120px",size:"medium",rules:e.formRules}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[a("el-select",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.menuTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"菜单名称",prop:"title"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入菜单名称"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"上级菜单"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{readonly:"",clearable:""},model:{value:e.parentName,callback:function(t){e.parentName=t},expression:"parentName"}}),a("el-popover",{attrs:{placement:"right",width:"400",height:"400",trigger:"click"}},[a("div",{staticClass:"tree-aside"},[a("el-scrollbar",{staticStyle:{height:"200px"}},[a("el-tree",{ref:"groupTree1",attrs:{"node-key":"id",data:e.treeList,accordion:"","highlight-current":""},on:{"node-click":e.selectNode}})],1)],1),a("el-button",{attrs:{slot:"reference",icon:"el-icon-edit-outline",circle:""},slot:"reference"})],1)],1),a("el-form-item",{attrs:{label:"组件名称",prop:"name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"组件的export name,路由跳转名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"访问地址",prop:"path"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"组件访问地址,起始路径/为绝对路径 不加为相对路径"},model:{value:e.formData.path,callback:function(t){e.$set(e.formData,"path",t)},expression:"formData.path"}})],1),a("el-form-item",{attrs:{label:"组件地址"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"组件路径，相对views的路径，可以为空"},model:{value:e.formData.component,callback:function(t){e.$set(e.formData,"component",t)},expression:"formData.component"}})],1),a("el-form-item",{attrs:{label:"重定向路径"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"点击菜单重定向的路由路径"},model:{value:e.formData.redirect,callback:function(t){e.$set(e.formData,"redirect",t)},expression:"formData.redirect"}})],1),a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"number",placeholder:"排序号越大越靠后"},model:{value:e.formData.sort,callback:function(t){e.$set(e.formData,"sort",t)},expression:"formData.sort"}})],1),a("el-form-item",{attrs:{label:"icon"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"菜单icon"},model:{value:e.formData.meta.icon,callback:function(t){e.$set(e.formData.meta,"icon",t)},expression:"formData.meta.icon"}})],1),a("el-form-item",{attrs:{label:"是否缓存菜单"}},[a("el-radio-group",{model:{value:e.formData.meta.cache,callback:function(t){e.$set(e.formData.meta,"cache",t)},expression:"formData.meta.cache"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"是否隐藏"}},[a("el-radio-group",{model:{value:e.formData.hidden,callback:function(t){e.$set(e.formData,"hidden",t)},expression:"formData.hidden"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"菜单备注"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.saveForm}},[e._v("保存")]),a("el-button",{on:{click:e.clearForm}},[e._v("重置")])],1)],1)],1)],1)],1)},i=[],n=(a("28fd"),a("a9b6"),a("0777")),l={name:"admin-department",data:function(){return{filterText:"",selectMenu:"",treeList:[],parentName:"",formData:{id:"",title:"",name:"",hidden:!1,parentId:0,redirect:"",path:"",component:"",sort:0,meta:{icon:"",cache:!1},remark:""},formRules:{name:Object(n["b"])(),type:Object(n["b"])(),title:Object(n["b"])(),path:Object(n["b"])(),sort:Object(n["b"])()},menuTypeList:[]}},created:function(){this.getMenuType(),this.getMenuTree()},watch:{filterText:function(e){this.$refs.groupTree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){var t=this;this.selectMenu=e.label,this.$get("/admin/menu/info/"+e.id).then((function(e){1===e.code&&(t.formData=e.data,t.parentName=e.data.parentName)}))},getMenuTree:function(){var e=this;this.$get("/admin/menu/treeList").then((function(t){1===t.code&&(e.treeList=t.data)}))},deleteNode:function(e){var t=this;this.$confirm("是否确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$get("/admin/menu/delete/"+e.id).then((function(e){1===e.code&&(t.getMenuTree(),t.clearForm(),t.$message.success(e.msg))}))}))},selectNode:function(e){this.formData.id===e.id?this.$message.warning("不支持选择自己！"):this.parentName===e.label?(this.parentName="",this.formData.parentId=""):(this.parentName=e.label,this.formData.parentId=e.id)},saveForm:function(){var e=this;this.$refs.form.validate((function(t,a){t?e.$postJson("/admin/menu/save",e.formData).then((function(t){1===t.code&&(e.$message.success(t.msg),e.getMenuTree(),e.clearForm())})):e.$message({message:"请完善相关信息填写！",type:"warning"})}))},clearForm:function(){this.parentName="",this.formData={id:"",title:"",name:"",hidden:!1,parentId:0,redirect:"",path:"",component:"",sort:0,meta:{icon:"",cache:!1},remark:""}},getMenuType:function(){var e=this;this.$get("/dic/selectList/menuType").then((function(t){1===t.code&&(e.menuTypeList=t.data)}))}}},o=l,s=(a("1737"),a("cba8")),c=Object(s["a"])(o,r,i,!1,null,"7e393759",null);t["default"]=c.exports},8130:function(e,t,a){"use strict";var r=a("a5ba"),i=a("e280").trim,n=a("5426");r({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},c8cb:function(e,t,a){}}]);